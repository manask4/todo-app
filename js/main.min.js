function append_notes(e,t){var a=get_current_datetime()
e='<span class="note-text">'+e+'</span><span class="time">'+a.time+"</span>"
var s=wrap_notes(e,t),n=a.day,i=$("span:contains("+n+")")
if(1==i.length)$(i).after(s)
else{var o='<div class="note-section"><span class="day">'+n+"</span>"+s+"</div>"
$(".user-notes").append(o)}}function wrap_notes(e,t){return'<div class="notes-list well well-sm">'+e+'<span class="util-icons"><i id="del-'+t+'" class="trash-icon fa fa-trash-o" aria-hidden="true"></i><i class="check-icon fa fa-check-circle-o" aria-hidden="true"></i></span></div>'}function set_localstorage_data(e,t){datetime=get_current_datetime()
var a={}
a[datetime.day]={},a[datetime.day][t]={note:e,time:datetime.time},localStorage.setItem("notes",JSON.stringify(a))}function update_localstorage_data(e,t,a){datetime=get_current_datetime(),t[datetime.day]?(t[datetime.day][a]={note:e,time:datetime.time},localStorage.setItem("notes",JSON.stringify(t))):(t[datetime.day]={},t[datetime.day][a]={note:e,time:datetime.time},localStorage.setItem("notes",JSON.stringify(t)))}function get_current_datetime(){var e=new Date,t=e.toDateString(),a=e.getHours(),s=(e.getMinutes()<10?"0":"")+e.getMinutes(),n=a>=12?"pm":"am"
a=a%12?a%12:12
var i=a+":"+s+" "+n
return{day:t,time:i}}function delete_note(e,t){var a=$(e).attr("id").substring(4),s=$(t).siblings(".day").text(),n=JSON.parse(localStorage.getItem("notes"))
delete n[s][a],$.isEmptyObject(n[s])&&(delete n[s],$(t).parent().remove()),localStorage.setItem("notes",JSON.stringify(n))}function get_random_id(){return(Math.random()+1).toString(16).substring(2,7)}var notesStorage=localStorage.getItem("notes")
if(notesStorage){var data=JSON.parse(notesStorage),allNotes=""
for(var day in data){var string='<div class="note-section"><span class="day">'+day+"</span>",note=""
for(var uid in data[day]){var text=data[day][uid].note,time=data[day][uid].time,noteString='<span class="note-text">'+text+'</span><span class="time">'+time+"</span>",wellWrapper=wrap_notes(noteString,uid)
note+=wellWrapper}var dayNotes=string+note+"</div>"
allNotes+=dayNotes}$(".panel-body").show(),$(".user-notes").append(allNotes)}$("#input-note").keypress(function(e){13==e.which&&$("#add-note-btn").trigger("click")}),$("#add-note-btn").click(function(e){var t=$("#input-note").val()
if(t){if("undefined"!=typeof localStorage){var a=localStorage.getItem("notes"),s=get_random_id()
if(a){var n=JSON.parse(a)
update_localstorage_data(t,n,s)}else set_localstorage_data(t,s)
append_notes(t,s),$(".panel-body").show()}else $(".panel").effect("shake")
$("#input-note").val("")}else $(".panel").effect("shake")}),$(".user-notes").on("click",".trash-icon",function(){var e=$(this).closest(".notes-list"),t=$(this)
delete_note(t,e),$(this).closest(".notes-list").fadeOut(600).remove()}),$(".user-notes").on("click",".check-icon",function(){$(this).hasClass("fa-check-circle-o")?($(this).closest(".well").animate({"background-color":"#ccc"},300),$(this).addClass("fa-check-circle").removeClass("fa-check-circle-o")):($(this).closest(".well").animate({"background-color":"white"},300),$(this).addClass("fa-check-circle-o").removeClass("fa-check-circle"))})
